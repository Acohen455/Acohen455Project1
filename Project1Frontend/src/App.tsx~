import './App.css'
import {router} from "./routes";
import {RouterProvider} from "react-router-dom";
import {useEffect, useState} from "react";
import {store} from "./GlobalData/store.ts";

function App() {

    const [user, setUser] = useState(store.loggedInUser);


    useEffect(() => {
        const unsubscribe = store.subscribe(() => {
            setUser({ ...store.loggedInUser }); // Update local state when store updates
        });

        return () => {
            unsubscribe(); // Ensure we return a function
        };
    }, []);

  return (
    <>
        <RouterProvider router = {router} />
    </>
  )
}

export default App
